(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){},116:function(e,t){},117:function(e,t){},144:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(19),r=a.n(o),s=(a(96),a(13)),c=a(14),i=a(16),m=a(15),u=a(17),d=a(21),p=a(83),E=a(64),h=a.n(E);h.a.initializeApp({apiKey:"AIzaSyBMPXUl2PERXrbAUtPujHj04Yllk46xfRg",authDomain:"csis-4495.firebaseapp.com",databaseURL:"https://csis-4495.firebaseio.com",projectId:"csis-4495",storageBucket:"csis-4495.appspot.com",messagingSenderId:"652993270371",appId:"1:652993270371:web:979f7522b83bc351"});var g,f=h.a,C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state=void 0,a.componentDidMount=function(){f.auth().onAuthStateChanged(function(e){e&&f.firestore().collection("users").doc(e.uid).onSnapshot(function(e){var t=e.data();t&&(t.isManager?a.props.history.push("/managerMain"):a.props.history.push("/studentMain"))})})},a.userSignin=function(e,t){f.auth().signInWithEmailAndPassword(e,t).then(function(e){console.log(e),e.user&&f.firestore().collection("users").doc(e.user.uid).onSnapshot(function(e){var t=e.data();t&&(t.isManager?a.props.history.push("/managerMain"):a.props.history.push("/studentMain"))})}).catch(function(e){console.log(e)})},a.studentSignin=function(){a.userSignin("student@douglascollege.ca","studentstudent")},a.state={emailAddress:"",password:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleEmailChange",value:function(e){this.setState({emailAddress:e.target.value})}},{key:"handlePWChange",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){var e=this;return window.innerWidth<800?l.a.createElement("div",{id:"mainDiv",style:{width:"100%",textAlign:"center"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h1",null,"Manager Login"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{id:"formDiv",style:{margin:"auto",width:"99%",border:"1px solid",borderRadius:10,padding:10}},l.a.createElement("form",null,l.a.createElement("h3",{style:{textAlign:"left",marginLeft:"5%"}},"Email"),l.a.createElement("input",{style:{width:"90%"},id:"inputEmail",autoComplete:"off",type:"email",value:this.state.emailAddress,name:"email",placeholder:" example@example.com",required:!0,onChange:function(t){e.handleEmailChange(t)}}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h3",{style:{textAlign:"left",marginLeft:"5%"}},"Password"),l.a.createElement("input",{style:{width:"90%"},id:"inputPassword",autoComplete:"off",placeholder:" At least 6 characters",type:"password",value:this.state.password,name:"password",required:!0,onChange:function(t){e.handlePWChange(t)}}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(p.a,{id:"loginBtn",variant:"secondary",style:{marginRight:10,marginBottom:10},onClick:function(){return e.studentSignin()}},"Student Sign in"),l.a.createElement("br",null),l.a.createElement(p.a,{id:"loginBtn",variant:"primary",style:{marginRight:10},onClick:function(){return e.userSignin(e.state.emailAddress,e.state.password)}},"Manager Sign in"),"Or",l.a.createElement(p.a,{style:{marginLeft:"10px"},id:"signupBtn",variant:"success"},l.a.createElement(d.b,{to:"/signup",style:{textDecoration:"none",color:"white"}}," Manager Sign up")),l.a.createElement("br",null),l.a.createElement("br",null)))):l.a.createElement("div",{id:"mainDiv",style:{width:"100%",textAlign:"center"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h1",null,"Manager Login"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{id:"formDiv",style:{margin:"auto",width:"50%",border:"1px solid",borderRadius:10,padding:10}},l.a.createElement("form",null,l.a.createElement("h3",{style:{textAlign:"left",marginLeft:"5%"}},"Email"),l.a.createElement("input",{style:{width:"90%"},id:"inputEmail",autoComplete:"off",type:"email",value:this.state.emailAddress,name:"email",placeholder:" example@example.com",required:!0,onChange:function(t){e.handleEmailChange(t)}}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h3",{style:{textAlign:"left",marginLeft:"5%"}},"Password"),l.a.createElement("input",{style:{width:"90%"},id:"inputPassword",autoComplete:"off",placeholder:" At least 6 characters",type:"password",value:this.state.password,name:"password",required:!0,onChange:function(t){e.handlePWChange(t)}}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h6",null,"Students do not need Email and Password"),l.a.createElement("br",null),l.a.createElement(p.a,{id:"loginBtn",variant:"secondary",style:{marginRight:10,marginBottom:10},onClick:function(){return e.studentSignin()}},"Student Sign in"),l.a.createElement("br",null),l.a.createElement(p.a,{id:"loginBtn",variant:"primary",style:{marginRight:10},onClick:function(){return e.userSignin(e.state.emailAddress,e.state.password)}},"Manager Sign in"),"Or",l.a.createElement(p.a,{style:{marginLeft:"10px"},id:"signupBtn",variant:"success"},l.a.createElement(d.b,{to:"/signup",style:{textDecoration:"none",color:"white"}}," Manager Sign up")),l.a.createElement("br",null),l.a.createElement("br",null))))}}]),t}(l.a.Component),y=a(146),S=a(85),b=(a(110),a(149)),v=a(148),M=a(147),w=a(11),I=a.n(w),D=a(66),H=a.n(D),G=new Date,x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state=void 0,a.handleChange=function(e){switch(e.target.name){case"term":return void a.setState({classTerm:e.target.value});case"classCode":return void a.setState({classCode:e.target.value});case"subject":return void a.setState({subject:e.target.value});case"title":return void a.setState({title:e.target.value});case"startDay":return void a.setState({startDay:e.target.value});case"startMonth":return void a.setState({startMonth:e.target.value});case"startYear":return void a.setState({startYear:e.target.value});case"endDay":return void a.setState({endDay:e.target.value});case"endMonth":return void a.setState({endMonth:e.target.value});case"endYear":return void a.setState({endYear:e.target.value});case"days":return void a.setState({days:e.target.value});case"startHour":return void a.setState({startHour:e.target.value});case"startMin":return void a.setState({startMin:e.target.value});case"endHour":return void a.setState({endHour:e.target.value});case"endMin":return void a.setState({endMin:e.target.value});case"campus":return void a.setState({campus:e.target.value});case"room":return void a.setState({room:e.target.value});case"classInfo":var t=new FileReader;return t.readAsArrayBuffer(e.target.files[0]),void(t.onload=function(e){console.log("file onload");var n,l=t.result;null!==l&&(n=new Uint8Array(l));var o=H.a.read(n,{type:"array"}),r=o.SheetNames[0],s=o.Sheets[r],c=H.a.utils.sheet_to_json(s,{header:1});I.a.size(c)>0&&a.setState({classInfo:c})})}},a.renderTerm=function(){return G.getMonth()<=3?l.a.createElement(b.a.Control,{as:"select",name:"term",onChange:function(e){a.handleChange(e)}},l.a.createElement("option",{selected:!0},"Summer 2019"),l.a.createElement("option",null,"Fall 2019"),l.a.createElement("option",null,"Winter 2020")):G.getMonth()<=7&&G.getMonth()>=4?l.a.createElement(b.a.Control,{as:"select",name:"term",onChange:function(e){a.handleChange(e)}},l.a.createElement("option",null,"Summer 2019"),l.a.createElement("option",{selected:!0},"Fall 2019"),l.a.createElement("option",null,"Winter 2020")):G.getMonth()<=11&&G.getMonth()>=8?l.a.createElement(b.a.Control,{as:"select",name:"term",onChange:function(e){a.handleChange(e)}},l.a.createElement("option",null,"Summer 2019"),l.a.createElement("option",null,"Fall 2019"),l.a.createElement("option",{selected:!0},"Winter 2020")):void 0},a.removeClass=function(){var e=a.props.modalInfo;a.state.removeClass?f.firestore().collection(e.schoolName).doc(a.state.removeClassID).delete().then(function(){console.log("class removed"),a.setState({removeClass:!1}),a.setState({classCode:""}),a.setState({classCodeErr:!1}),a.setState({removeClassID:""})}):f.firestore().collection(e.schoolName).where("classCode","==",a.state.classCode).onSnapshot(function(e){console.log(e),e.empty?(a.setState({classCode:"No class found"}),a.setState({classCodeErr:!0})):(a.setState({classCodeErr:!1}),I.a.each(e.docs,function(e){a.setState({removeClassID:e.id})}),a.setState({removeClass:!0}))})},a.getClasse=function(){var e=a.props.modalInfo;f.firestore().collection(e.schoolName).where("classCode","==",a.state.classCode).onSnapshot(function(e){console.log(e),e.empty?(a.setState({classCode:"No class found"}),a.setState({classCodeErr:!0})):I.a.each(e.docs,function(e){var t=e.data();console.log(t),console.log(e),a.setState({classCodeErr:!1}),a.setState({editClass:!0}),a.setState({campus:t.campus}),a.setState({classCode:t.classCode}),a.setState({subject:t.subject}),a.setState({title:t.title}),a.setState({startDay:t.startDay}),a.setState({startMonth:t.startMonth}),a.setState({startYear:t.startYear}),a.setState({endDay:t.endDay}),a.setState({endMonth:t.endMonth}),a.setState({endYear:t.endYear}),a.setState({days:t.day}),a.setState({startHour:t.startHour}),a.setState({startMin:t.startMin}),a.setState({endHour:t.endHour}),a.setState({endMin:t.endMin}),a.setState({room:t.room}),a.setState({editClassID:e.id}),g=t.createdAt})})},a.editClass=function(){var e=new Date,t=a.props.modalInfo;console.log("edit"),f.firestore().collection(t.schoolName).doc(a.state.editClassID).set({subject:a.state.subject,classCode:a.state.classCode,createdAt:g,editedAt:e,title:a.state.title,startDay:a.state.startDay,startMonth:a.state.startMonth,startYear:a.state.startYear,endDay:a.state.endDay,endMonth:a.state.endMonth,endYear:a.state.endYear,day:a.state.days,startHour:a.state.startHour,startMin:a.state.startMin,endHour:a.state.endHour,endMin:a.state.endMin,campus:a.state.campus,room:a.state.room,term:a.state.classTerm}).then(function(e){console.log(e),a.setState({campus:""}),a.setState({classCode:""}),a.setState({subject:""}),a.setState({title:""}),a.setState({startDay:""}),a.setState({startMonth:""}),a.setState({startYear:""}),a.setState({endDay:""}),a.setState({endMonth:""}),a.setState({endYear:""}),a.setState({days:""}),a.setState({startHour:""}),a.setState({startMin:""}),a.setState({endHour:""}),a.setState({endMin:""}),a.setState({room:""}),a.setState({classCodeErr:!1}),a.setState({editClass:!1}),a.setState({editClassID:""}),g="",a.props.modalInfo.modalHide()})},a.addClass=function(){var e=new Date,t=a.props.modalInfo;a.state.addingClasses?I.a.each(a.state.classInfo,function(n){n.length<17?console.log("error"):f.firestore().collection(t.schoolName).add({createdAt:e,classCode:n[0].toString(),subject:n[1],title:n[2],startDay:n[3].toString(),startMonth:n[4].toString(),startYear:n[5].toString(),endDay:n[6].toString(),endMonth:n[7].toString(),endYear:n[8].toString(),day:n[9],startHour:n[10].toString(),startMin:"0"===n[11].toString()?"00":n[11].toString(),endHour:n[12].toString(),endMin:"0"===n[13].toString()?"00":n[13].toString(),campus:n[14],room:n[15].toString(),term:n[16]}).then(function(e){a.props.modalInfo.modalHide(),console.log(e)})}):f.firestore().collection(t.schoolName).where("classCode","==",a.state.classCode).onSnapshot(function(n){n.empty?f.firestore().collection(t.schoolName).add({createdAt:e,classCode:a.state.classCode,subject:a.state.subject,title:a.state.title,startDay:a.state.startDay,startMonth:a.state.startMonth,startYear:a.state.startYear,endDay:a.state.endDay,endMonth:a.state.endMonth,endYear:a.state.endYear,day:a.state.days,startHour:a.state.startHour,startMin:a.state.startMin,endHour:a.state.endHour,endMin:a.state.endMin,campus:a.state.campus,room:a.state.room,term:a.state.classTerm}).then(function(e){console.log(e),a.setState({campus:""}),a.setState({classCode:""}),a.setState({subject:""}),a.setState({title:""}),a.setState({startDay:""}),a.setState({startMonth:""}),a.setState({startYear:""}),a.setState({endDay:""}),a.setState({endMonth:""}),a.setState({endYear:""}),a.setState({days:""}),a.setState({startHour:""}),a.setState({startMin:""}),a.setState({endHour:""}),a.setState({endMin:""}),a.setState({room:""}),a.setState({classCodeErr:!1}),a.props.modalInfo.modalHide()}):(a.setState({classCodeErr:!0}),a.setState({classCode:"Code already exist"}))})},a.state={classTerm:"Fall 2019",classCode:"",subject:"",title:"",startDay:"",startMonth:"",startYear:"",endDay:"",endMonth:"",endYear:"",days:"",startHour:"",startMin:"",endHour:"",endMin:"",campus:"",room:"",addingClasses:!1,classInfo:{},editClass:!1,editClassID:"",removeClassID:"",classCodeErr:!1,removeClass:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.modalInfo;return"add"===t.modalType?l.a.createElement(v.a,{show:t.modalOpen,onHide:function(){return t.modalHide()},centered:!0},l.a.createElement(v.a.Header,{closeButton:!0},l.a.createElement(v.a.Title,{id:"contained-modal-title-vcenter",style:{textAlign:"center"}},t.schoolName)),l.a.createElement(v.a.Body,{style:{textAlign:"center"}},l.a.createElement("fieldset",null,l.a.createElement(b.a.Group,null,l.a.createElement(y.a,null,l.a.createElement(S.a,null,l.a.createElement(b.a.Check,{type:"radio",label:"Adding a class",name:"formHorizontalRadios",id:"formHorizontalRadios1",onChange:function(){e.setState({addingClasses:!1})},defaultChecked:!0})),l.a.createElement(S.a,null,l.a.createElement(b.a.Check,{type:"radio",label:"Adding classes",name:"formHorizontalRadios",id:"formHorizontalRadios2",onChange:function(){e.setState({addingClasses:!0})}}))))),this.state.addingClasses?l.a.createElement(b.a.Group,{controlId:"exampleForm.ControlTextarea1"},l.a.createElement(b.a.Label,null,"Select an Excel file"),l.a.createElement(b.a.Control,{type:"file",name:"classInfo",onChange:function(t){e.handleChange(t)},placeholder:"Upload file"})):l.a.createElement(b.a,{style:{border:"1px solid",padding:20,borderRadius:20,marginTop:20}},l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalSchool"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Term"),l.a.createElement(S.a,{sm:10},this.renderTerm())),l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalCode"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Class Code"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{type:"text",placeholder:"Class Code",name:"classCode",style:{border:this.state.classCodeErr?"2px solid rgb(210, 0, 0)":"1px solid #ced4da"},value:this.state.classCode,onChange:function(t){e.handleChange(t)}}))),l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalSubject"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Subject"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{type:"text",placeholder:"Subject",name:"subject",value:this.state.subject,onChange:function(t){e.handleChange(t)}}))),l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalTitle"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Title"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{type:"text",placeholder:"Title",name:"title",value:this.state.title,onChange:function(t){e.handleChange(t)}}))),l.a.createElement(b.a.Row,null,l.a.createElement(b.a.Label,{column:!0,sm:2},"Start Date"),l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridCity"},l.a.createElement(b.a.Control,{as:"select",name:"startMonth",onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Month"),l.a.createElement("option",null,"Jan"),l.a.createElement("option",null,"Feb"),l.a.createElement("option",null,"Mar"),l.a.createElement("option",null,"Apr"),l.a.createElement("option",null,"May"),l.a.createElement("option",null,"Jun"),l.a.createElement("option",null,"Jul"),l.a.createElement("option",null,"Aug"),l.a.createElement("option",null,"Sep"),l.a.createElement("option",null,"Oct"),l.a.createElement("option",null,"Nov"),l.a.createElement("option",null,"Dec"))),l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridState"},l.a.createElement(b.a.Control,{as:"select",name:"startDay",onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Day"),l.a.createElement("option",null,"1"),l.a.createElement("option",null,"2"),l.a.createElement("option",null,"3"),l.a.createElement("option",null,"4"),l.a.createElement("option",null,"5"),l.a.createElement("option",null,"6"),l.a.createElement("option",null,"7"),l.a.createElement("option",null,"8"),l.a.createElement("option",null,"9"),l.a.createElement("option",null,"10"),l.a.createElement("option",null,"11"),l.a.createElement("option",null,"12"),l.a.createElement("option",null,"13"),l.a.createElement("option",null,"14"),l.a.createElement("option",null,"15"),l.a.createElement("option",null,"16"),l.a.createElement("option",null,"17"),l.a.createElement("option",null,"18"),l.a.createElement("option",null,"19"),l.a.createElement("option",null,"20"),l.a.createElement("option",null,"21"),l.a.createElement("option",null,"22"),l.a.createElement("option",null,"23"),l.a.createElement("option",null,"24"),l.a.createElement("option",null,"25"),l.a.createElement("option",null,"26"),l.a.createElement("option",null,"27"),l.a.createElement("option",null,"28"),l.a.createElement("option",null,"29"),l.a.createElement("option",null,"30"),l.a.createElement("option",null,"31"))),l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridZip"},l.a.createElement(b.a.Control,{as:"select",name:"startYear",onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Year"),l.a.createElement("option",null,"2019"),l.a.createElement("option",null,"2020")))),l.a.createElement(b.a.Row,null,l.a.createElement(b.a.Label,{column:!0,sm:2},"End Date"),l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridCity"},l.a.createElement(b.a.Control,{as:"select",name:"endMonth",onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Month"),l.a.createElement("option",null,"Jan"),l.a.createElement("option",null,"Feb"),l.a.createElement("option",null,"Mar"),l.a.createElement("option",null,"Apr"),l.a.createElement("option",null,"May"),l.a.createElement("option",null,"Jun"),l.a.createElement("option",null,"Jul"),l.a.createElement("option",null,"Aug"),l.a.createElement("option",null,"Sep"),l.a.createElement("option",null,"Oct"),l.a.createElement("option",null,"Nov"),l.a.createElement("option",null,"Dec"))),l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridState"},l.a.createElement(b.a.Control,{as:"select",name:"endDay",onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Day"),l.a.createElement("option",null,"1"),l.a.createElement("option",null,"2"),l.a.createElement("option",null,"3"),l.a.createElement("option",null,"4"),l.a.createElement("option",null,"5"),l.a.createElement("option",null,"6"),l.a.createElement("option",null,"7"),l.a.createElement("option",null,"8"),l.a.createElement("option",null,"9"),l.a.createElement("option",null,"10"),l.a.createElement("option",null,"11"),l.a.createElement("option",null,"12"),l.a.createElement("option",null,"13"),l.a.createElement("option",null,"14"),l.a.createElement("option",null,"15"),l.a.createElement("option",null,"16"),l.a.createElement("option",null,"17"),l.a.createElement("option",null,"18"),l.a.createElement("option",null,"19"),l.a.createElement("option",null,"20"),l.a.createElement("option",null,"21"),l.a.createElement("option",null,"22"),l.a.createElement("option",null,"23"),l.a.createElement("option",null,"24"),l.a.createElement("option",null,"25"),l.a.createElement("option",null,"26"),l.a.createElement("option",null,"27"),l.a.createElement("option",null,"28"),l.a.createElement("option",null,"29"),l.a.createElement("option",null,"30"),l.a.createElement("option",null,"31"))),l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridZip"},l.a.createElement(b.a.Control,{as:"select",name:"endYear",onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Year"),l.a.createElement("option",null,"2019"),l.a.createElement("option",null,"2020")))),l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalDays"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Days"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{as:"select",name:"days",onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Select"),l.a.createElement("option",{value:"Monday"},"Monday"),l.a.createElement("option",null,"Tuesday"),l.a.createElement("option",null,"Wednesday"),l.a.createElement("option",null,"Thursday"),l.a.createElement("option",null,"Friday"),l.a.createElement("option",null,"Saturday"),l.a.createElement("option",null,"Sunday")))),l.a.createElement(b.a.Row,null,l.a.createElement(b.a.Label,{column:!0,sm:2},"Time"),l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridCity"},l.a.createElement(b.a.Control,{as:"select",name:"startHour",onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Hour"),l.a.createElement("option",null,"1"),l.a.createElement("option",null,"2"),l.a.createElement("option",null,"3"),l.a.createElement("option",null,"4"),l.a.createElement("option",null,"5"),l.a.createElement("option",null,"6"),l.a.createElement("option",null,"7"),l.a.createElement("option",null,"8"),l.a.createElement("option",null,"9"),l.a.createElement("option",null,"10"),l.a.createElement("option",null,"11"),l.a.createElement("option",null,"12"),l.a.createElement("option",null,"13"),l.a.createElement("option",null,"14"),l.a.createElement("option",null,"15"),l.a.createElement("option",null,"16"),l.a.createElement("option",null,"17"),l.a.createElement("option",null,"18"),l.a.createElement("option",null,"19"),l.a.createElement("option",null,"20"),l.a.createElement("option",null,"21"),l.a.createElement("option",null,"22"),l.a.createElement("option",null,"23"),l.a.createElement("option",null,"24"))),l.a.createElement(b.a.Label,{column:!0,md:"auto"},":"),l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridState"},l.a.createElement(b.a.Control,{as:"select",name:"startMin",onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Min"),l.a.createElement("option",null,"00"),l.a.createElement("option",null,"10"),l.a.createElement("option",null,"20"),l.a.createElement("option",null,"30"),l.a.createElement("option",null,"40"),l.a.createElement("option",null,"50"))),l.a.createElement(b.a.Label,{column:!0,md:"auto"},"~"),l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridCity"},l.a.createElement(b.a.Control,{as:"select",name:"endHour",onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Hour"),l.a.createElement("option",null,"1"),l.a.createElement("option",null,"2"),l.a.createElement("option",null,"3"),l.a.createElement("option",null,"4"),l.a.createElement("option",null,"5"),l.a.createElement("option",null,"6"),l.a.createElement("option",null,"7"),l.a.createElement("option",null,"8"),l.a.createElement("option",null,"9"),l.a.createElement("option",null,"10"),l.a.createElement("option",null,"11"),l.a.createElement("option",null,"12"),l.a.createElement("option",null,"13"),l.a.createElement("option",null,"14"),l.a.createElement("option",null,"15"),l.a.createElement("option",null,"16"),l.a.createElement("option",null,"17"),l.a.createElement("option",null,"18"),l.a.createElement("option",null,"19"),l.a.createElement("option",null,"20"),l.a.createElement("option",null,"21"),l.a.createElement("option",null,"22"),l.a.createElement("option",null,"23"),l.a.createElement("option",null,"24"))),l.a.createElement(b.a.Label,{column:!0,md:"auto"},":"),l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridState"},l.a.createElement(b.a.Control,{as:"select",name:"endMin",onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Min"),l.a.createElement("option",null,"00"),l.a.createElement("option",null,"10"),l.a.createElement("option",null,"20"),l.a.createElement("option",null,"30"),l.a.createElement("option",null,"40"),l.a.createElement("option",null,"50")))),l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalCampus"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Campus"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{type:"text",placeholder:"Campus",name:"campus",value:this.state.campus,onChange:function(t){e.handleChange(t)}}))),l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalRoom"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Room"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{type:"text",placeholder:"Room",name:"room",value:this.state.room,onChange:function(t){e.handleChange(t)}}))))),l.a.createElement(v.a.Footer,null,l.a.createElement("div",null,console.log(this.state.classInfo),I.a.size(this.state.classInfo)>0&&this.state.addingClasses?l.a.createElement(p.a,{onClick:function(){e.addClass()},style:{marginLeft:100}},"Add classes"):this.state.classCode&&this.state.subject&&this.state.title&&this.state.startYear&&this.state.endYear&&this.state.days&&this.state.endMin&&this.state.campus&&this.state.room?l.a.createElement(p.a,{onClick:function(){e.addClass()},style:{marginLeft:100}},"Add a class"):l.a.createElement(p.a,{type:"submit",disabled:!0,style:{marginLeft:100}}," Add a class")))):"edit"===t.modalType?l.a.createElement("div",null,l.a.createElement(v.a,{show:t.modalOpen,onHide:function(){return t.modalHide()},centered:!0},l.a.createElement(v.a.Header,{closeButton:!0},l.a.createElement(v.a.Title,{id:"contained-modal-title-vcenter",style:{textAlign:"center"}},"Edit a class")),this.state.editClass?l.a.createElement(v.a.Body,{style:{textAlign:"center"}},l.a.createElement(b.a,{style:{border:"1px solid",padding:20,borderRadius:20,marginTop:20}},l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalCode"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Class Code"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{type:"text",placeholder:"Enter Class Code",name:"classCode",disabled:!0,value:this.state.classCode,onChange:function(t){e.handleChange(t)}}))),l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalSchool"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Term"),l.a.createElement(S.a,{sm:10},this.renderTerm())),l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalSubject"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Subject"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{type:"text",placeholder:"Subject",name:"subject",value:this.state.subject,onChange:function(t){e.handleChange(t)}}))),l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalTitle"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Title"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{type:"text",placeholder:"Title",name:"title",value:this.state.title,onChange:function(t){e.handleChange(t)}}))),l.a.createElement(b.a.Row,null,l.a.createElement(b.a.Label,{column:!0,sm:2},"Start Date"),l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridCity"},l.a.createElement(b.a.Control,{as:"select",name:"startMonth",value:this.state.startMonth,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Month"),l.a.createElement("option",null,"Jan"),l.a.createElement("option",null,"Feb"),l.a.createElement("option",null,"Mar"),l.a.createElement("option",null,"Apr"),l.a.createElement("option",null,"May"),l.a.createElement("option",null,"Jun"),l.a.createElement("option",null,"Jul"),l.a.createElement("option",null,"Aug"),l.a.createElement("option",null,"Sep"),l.a.createElement("option",null,"Oct"),l.a.createElement("option",null,"Nov"),l.a.createElement("option",null,"Dec"))),l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridState"},l.a.createElement(b.a.Control,{as:"select",name:"startDay",value:this.state.startDay,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Day"),l.a.createElement("option",null,"1"),l.a.createElement("option",null,"2"),l.a.createElement("option",null,"3"),l.a.createElement("option",null,"4"),l.a.createElement("option",null,"5"),l.a.createElement("option",null,"6"),l.a.createElement("option",null,"7"),l.a.createElement("option",null,"8"),l.a.createElement("option",null,"9"),l.a.createElement("option",null,"10"),l.a.createElement("option",null,"11"),l.a.createElement("option",null,"12"),l.a.createElement("option",null,"13"),l.a.createElement("option",null,"14"),l.a.createElement("option",null,"15"),l.a.createElement("option",null,"16"),l.a.createElement("option",null,"17"),l.a.createElement("option",null,"18"),l.a.createElement("option",null,"19"),l.a.createElement("option",null,"20"),l.a.createElement("option",null,"21"),l.a.createElement("option",null,"22"),l.a.createElement("option",null,"23"),l.a.createElement("option",null,"24"),l.a.createElement("option",null,"25"),l.a.createElement("option",null,"26"),l.a.createElement("option",null,"27"),l.a.createElement("option",null,"28"),l.a.createElement("option",null,"29"),l.a.createElement("option",null,"30"),l.a.createElement("option",null,"31"))),l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridZip"},l.a.createElement(b.a.Control,{as:"select",name:"startYear",value:this.state.startYear,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Year"),l.a.createElement("option",null,"2019"),l.a.createElement("option",null,"2020")))),l.a.createElement(b.a.Row,null,l.a.createElement(b.a.Label,{column:!0,sm:2},"End Date"),l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridCity"},l.a.createElement(b.a.Control,{as:"select",name:"endMonth",value:this.state.endMonth,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Month"),l.a.createElement("option",null,"Jan"),l.a.createElement("option",null,"Feb"),l.a.createElement("option",null,"Mar"),l.a.createElement("option",null,"Apr"),l.a.createElement("option",null,"May"),l.a.createElement("option",null,"Jun"),l.a.createElement("option",null,"Jul"),l.a.createElement("option",null,"Aug"),l.a.createElement("option",null,"Sep"),l.a.createElement("option",null,"Oct"),l.a.createElement("option",null,"Nov"),l.a.createElement("option",null,"Dec"))),l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridState"},l.a.createElement(b.a.Control,{as:"select",name:"endDay",value:this.state.endDay,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Day"),l.a.createElement("option",null,"1"),l.a.createElement("option",null,"2"),l.a.createElement("option",null,"3"),l.a.createElement("option",null,"4"),l.a.createElement("option",null,"5"),l.a.createElement("option",null,"6"),l.a.createElement("option",null,"7"),l.a.createElement("option",null,"8"),l.a.createElement("option",null,"9"),l.a.createElement("option",null,"10"),l.a.createElement("option",null,"11"),l.a.createElement("option",null,"12"),l.a.createElement("option",null,"13"),l.a.createElement("option",null,"14"),l.a.createElement("option",null,"15"),l.a.createElement("option",null,"16"),l.a.createElement("option",null,"17"),l.a.createElement("option",null,"18"),l.a.createElement("option",null,"19"),l.a.createElement("option",null,"20"),l.a.createElement("option",null,"21"),l.a.createElement("option",null,"22"),l.a.createElement("option",null,"23"),l.a.createElement("option",null,"24"),l.a.createElement("option",null,"25"),l.a.createElement("option",null,"26"),l.a.createElement("option",null,"27"),l.a.createElement("option",null,"28"),l.a.createElement("option",null,"29"),l.a.createElement("option",null,"30"),l.a.createElement("option",null,"31"))),l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridZip"},l.a.createElement(b.a.Control,{as:"select",name:"endYear",value:this.state.endYear,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Year"),l.a.createElement("option",null,"2019"),l.a.createElement("option",null,"2020")))),l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalDays"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Days"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{as:"select",name:"days",value:this.state.days,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Select"),l.a.createElement("option",null,"Monday"),l.a.createElement("option",null,"Tuesday"),l.a.createElement("option",null,"Wednesday"),l.a.createElement("option",null,"Thursday"),l.a.createElement("option",null,"Friday"),l.a.createElement("option",null,"Saturday"),l.a.createElement("option",null,"Sunday")))),l.a.createElement(b.a.Row,null,l.a.createElement(b.a.Label,{column:!0,sm:2},"Time"),l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridCity"},l.a.createElement(b.a.Control,{as:"select",name:"startHour",value:this.state.startHour,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Hour"),l.a.createElement("option",null,"1"),l.a.createElement("option",null,"2"),l.a.createElement("option",null,"3"),l.a.createElement("option",null,"4"),l.a.createElement("option",null,"5"),l.a.createElement("option",null,"6"),l.a.createElement("option",null,"7"),l.a.createElement("option",null,"8"),l.a.createElement("option",null,"9"),l.a.createElement("option",null,"10"),l.a.createElement("option",null,"11"),l.a.createElement("option",null,"12"),l.a.createElement("option",null,"13"),l.a.createElement("option",null,"14"),l.a.createElement("option",null,"15"),l.a.createElement("option",null,"16"),l.a.createElement("option",null,"17"),l.a.createElement("option",null,"18"),l.a.createElement("option",null,"19"),l.a.createElement("option",null,"20"),l.a.createElement("option",null,"21"),l.a.createElement("option",null,"22"),l.a.createElement("option",null,"23"),l.a.createElement("option",null,"24"))),l.a.createElement(b.a.Label,{column:!0,md:"auto"},":"),l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridState"},l.a.createElement(b.a.Control,{as:"select",name:"startMin",value:this.state.startMin,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Min"),l.a.createElement("option",null,"00"),l.a.createElement("option",null,"10"),l.a.createElement("option",null,"20"),l.a.createElement("option",null,"30"),l.a.createElement("option",null,"40"),l.a.createElement("option",null,"50"))),"~",l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridCity"},l.a.createElement(b.a.Control,{as:"select",name:"endHour",value:this.state.endHour,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Hour"),l.a.createElement("option",null,"1"),l.a.createElement("option",null,"2"),l.a.createElement("option",null,"3"),l.a.createElement("option",null,"4"),l.a.createElement("option",null,"5"),l.a.createElement("option",null,"6"),l.a.createElement("option",null,"7"),l.a.createElement("option",null,"8"),l.a.createElement("option",null,"9"),l.a.createElement("option",null,"10"),l.a.createElement("option",null,"11"),l.a.createElement("option",null,"12"),l.a.createElement("option",null,"13"),l.a.createElement("option",null,"14"),l.a.createElement("option",null,"15"),l.a.createElement("option",null,"16"),l.a.createElement("option",null,"17"),l.a.createElement("option",null,"18"),l.a.createElement("option",null,"19"),l.a.createElement("option",null,"20"),l.a.createElement("option",null,"21"),l.a.createElement("option",null,"22"),l.a.createElement("option",null,"23"),l.a.createElement("option",null,"24"))),":",l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridState"},l.a.createElement(b.a.Control,{as:"select",name:"endMin",value:this.state.endMin,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Min"),l.a.createElement("option",null,"00"),l.a.createElement("option",null,"10"),l.a.createElement("option",null,"20"),l.a.createElement("option",null,"30"),l.a.createElement("option",null,"40"),l.a.createElement("option",null,"50")))),l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalCampus"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Campus"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{type:"text",placeholder:"Campus",name:"campus",value:this.state.campus,onChange:function(t){e.handleChange(t)}}))),l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalRoom"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Room"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{type:"text",placeholder:"Room",name:"room",value:this.state.room,onChange:function(t){e.handleChange(t)}}))))):l.a.createElement(v.a.Body,{style:{textAlign:"center"}},l.a.createElement(b.a,{style:{border:"1px solid",padding:20,borderRadius:20,marginTop:20}},l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalCode"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Class Code"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{type:"text",placeholder:"Enter Class Code",name:"classCode",style:{border:this.state.classCodeErr?"2px solid rgb(210, 0, 0)":"1px solid #ced4da"},value:this.state.classCode,onChange:function(t){e.handleChange(t)},onFocus:function(){e.setState({classCode:""})}}))))),l.a.createElement(v.a.Footer,null,this.state.editClass?l.a.createElement(p.a,{onClick:function(){e.editClass()},style:{marginLeft:100}},"Edit"):l.a.createElement(p.a,{onClick:function(){e.getClasse()},style:{marginLeft:100}},"Submit")))):"remove"===t.modalType?l.a.createElement("div",null,l.a.createElement(v.a,{show:t.modalOpen,onHide:function(){return t.modalHide()},centered:!0},l.a.createElement(v.a.Header,{closeButton:!0},l.a.createElement(v.a.Title,{id:"contained-modal-title-vcenter",style:{textAlign:"center"}},"Remove a class")),l.a.createElement(v.a.Body,{style:{textAlign:"center"}},l.a.createElement(b.a,{style:{border:"1px solid",padding:20,borderRadius:20,marginTop:20}},l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalCode"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Class Code"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{type:"text",placeholder:"Enter Class Code",name:"classCode",style:{border:this.state.classCodeErr?"2px solid rgb(210, 0, 0)":"1px solid #ced4da"},value:this.state.classCode,onChange:function(t){e.handleChange(t)},onFocus:function(){e.setState({classCode:""})}}))))),l.a.createElement(v.a.Footer,null,this.state.removeClass?l.a.createElement(p.a,{variant:"danger",onClick:function(){e.removeClass()},style:{marginLeft:100}},"Confirm"):l.a.createElement(p.a,{onClick:function(){e.removeClass()},style:{marginLeft:100}},"Remove")))):l.a.createElement("div",null,t.modalOpen?l.a.createElement(M.a,{animation:"border"}):null)}}]),t}(l.a.Component),N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state=void 0,a.componentDidMount=function(){f.auth().onAuthStateChanged(function(e){e?f.firestore().collection("users").doc(e.uid).onSnapshot(function(t){var n=t.data();n&&(n.isManager?n.isConfirmed?(a.setState({isConfirmed:!0}),a.setState({userID:e.uid}),a.setState({userSchoolName:n.schoolName}),f.firestore().collection("classes").onSnapshot(function(e){I.a.each(e.docs,function(e){e.data().name===a.state.userSchoolName&&a.setState({schoolCode:e.id})})})):a.setState({isConfirmed:!1}):a.props.history.push("/studentMain"))}):a.props.history.push("/")})},a.signOut=function(){f.auth().signOut().then(function(e){console.log(e),console.log("Logged out"),a.props.history.push("/")}).catch(function(e){console.log(e)})},a.clickBtn=function(e){a.setState({modalType:e}),a.setState({classModal:!0})},a.state={classModal:!1,editClassModal:!1,modalType:"",isConfirmed:!0,userID:"",userSchoolName:"",schoolCode:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t={modalType:this.state.modalType,modalHide:function(){e.setState({classModal:!1})},modalOpen:this.state.classModal,schoolName:this.state.userSchoolName,schoolCode:this.state.schoolCode};return this.state.isConfirmed?l.a.createElement("div",{style:{margin:"auto",width:"70%",textAlign:"center"}},l.a.createElement(y.a,null,l.a.createElement(S.a,null),l.a.createElement(S.a,null,l.a.createElement("h1",null,"Manager Page")),l.a.createElement(S.a,null,l.a.createElement("h6",{id:"signOutBtn",style:{border:"1px solid",width:110,height:40,lineHeight:"35px",marginTop:10,cursor:"pointer",borderRadius:5},onClick:function(){return e.signOut()}},"Sign out"))),l.a.createElement("br",null),l.a.createElement(y.a,{style:{width:"100%",marginBottom:30}},l.a.createElement(S.a,{md:"auto",id:"addBtn",style:{width:300,height:270,margin:"auto",marginRight:0}},l.a.createElement(p.a,{style:{width:"100%",height:"100%",fontWeight:O,fontSize:j},onClick:function(){e.clickBtn("add")}},"Add a class")),l.a.createElement(S.a,{md:"auto",id:"editBtn",style:{width:300,height:270,margin:"auto",marginLeft:0}},l.a.createElement(p.a,{style:{width:"100%",height:"100%",fontWeight:O,fontSize:j},onClick:function(){e.clickBtn("edit")}},"Edit a class"))),l.a.createElement(y.a,{style:{width:"100%"}},l.a.createElement(S.a,{md:"auto",id:"removeBtn",style:{width:300,height:270,margin:"auto",marginRight:0}},l.a.createElement(p.a,{style:{width:"100%",height:"100%",fontWeight:O,fontSize:j},onClick:function(){e.clickBtn("remove")}},"Remove a class")),l.a.createElement(S.a,{md:"auto",id:"studentBtn",style:{width:300,height:270,margin:"auto",marginLeft:0}},l.a.createElement(d.b,{to:"studentMain"},l.a.createElement(p.a,{style:{width:"100%",height:"100%",fontWeight:O,fontSize:j}},"Student screen")))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(x,{modalInfo:t})):l.a.createElement("div",null,"Your account is not confirmed yet.",l.a.createElement("h6",{id:"signOutBtn",style:{border:"1px solid",width:110,height:40,textAlign:"center",lineHeight:"35px",margin:20,cursor:"pointer",borderRadius:5},onClick:function(){return e.signOut()}},"Sign out"))}}]),t}(l.a.Component),O="bold",j=30,R=N,L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state=void 0,a.signUp=function(e,t){console.log(e),console.log(t);var n=new Date;f.auth().createUserWithEmailAndPassword(e,t).then(function(e){e.user&&(a.state.studentOrManager?f.firestore().collection("users").doc(e.user.uid).set({createdAt:n,userEmail:e.user.email,firstName:a.state.fName,lastName:a.state.lName,schoolName:a.state.schoolName,isManager:a.state.studentOrManager,isConfirmed:!1}).then(function(){console.log("User added")}):f.firestore().collection("users").doc(e.user.uid).set({createdAt:n,userEmail:e.user.email,firstName:a.state.fName,lastName:a.state.lName,schoolName:a.state.schoolName,isManager:a.state.studentOrManager,userID:a.state.studentID})),console.log(e)}).catch(function(e){console.log(e)})},a.state={studentOrManager:!1,userEmail:"",password:"",fName:"",lName:"",schoolName:"",studentID:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleEmailChange",value:function(e){this.setState({userEmail:e.target.value})}},{key:"handlePWChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleFNameChange",value:function(e){this.setState({fName:e.target.value})}},{key:"handleLNameChange",value:function(e){this.setState({lName:e.target.value})}},{key:"handleSchoolChange",value:function(e){this.setState({schoolName:e.target.value})}},{key:"handleStudentIDChange",value:function(e){this.setState({studentID:e.target.value})}},{key:"render",value:function(){var e=this;return console.log(this.state.schoolName),l.a.createElement("div",{style:{width:700,margin:"auto",textAlign:"center"}},l.a.createElement("h1",null,"New account"),l.a.createElement(b.a,{style:{border:"1px solid",padding:20,borderRadius:20,marginTop:20}},l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalEmail"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Email"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{type:"email",placeholder:"Email",value:this.state.userEmail,onChange:function(t){e.handleEmailChange(t)}}))),l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalPassword"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Password"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{type:"password",placeholder:"Password",value:this.state.password,onChange:function(t){e.handlePWChange(t)}}))),l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalFName"},l.a.createElement(b.a.Label,{column:!0,sm:2},"First Name"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{type:"text",placeholder:"First Name",value:this.state.fName,onChange:function(t){e.handleFNameChange(t)}}))),l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalLName"},l.a.createElement(b.a.Label,{column:!0,sm:2},"Last Name"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{type:"text",placeholder:"Last Name",value:this.state.lName,onChange:function(t){e.handleLNameChange(t)}}))),l.a.createElement(b.a.Group,{as:y.a,controlId:"formHorizontalSchool"},l.a.createElement(b.a.Label,{column:!0,sm:2},"School"),l.a.createElement(S.a,{sm:10},l.a.createElement(b.a.Control,{type:"text",placeholder:"School Name",value:this.state.schoolName,onChange:function(t){e.handleSchoolChange(t)}}))),l.a.createElement(b.a.Group,{as:y.a},l.a.createElement(S.a,null,l.a.createElement("div",null,l.a.createElement(p.a,{variant:"success"},l.a.createElement(d.b,{to:"/",style:{color:"white",textDecoration:"none"}},"Sign in page")),this.state.userEmail&&this.state.password&&this.state.schoolName?l.a.createElement(p.a,{onClick:function(){e.signUp(e.state.userEmail,e.state.password)},style:{marginLeft:100}},l.a.createElement(d.b,{to:"/",style:{color:"white",textDecoration:"none"}},"Sign up")):l.a.createElement(p.a,{type:"submit",disabled:!0,style:{marginLeft:100}}," Sign up"))))))}}]),t}(l.a.Component),A=a(150),k=a(152),T=a(151),Y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state=void 0,a.componentDidMount=function(){var e=new Date,t=e.getHours(),n=e.getMinutes(),l=e.getDay(),o=e.getFullYear(),r=e.getMonth(),s=e.getDate(),c=n.toString().split("");I.a.size(c)<2&&c.unshift("0"),console.log(o+","+r+","+s),a.setState({setHour:parseInt(c[1])>=5?"5"!==c[0]?t.toString():(t+1).toString():t.toString(),setYear:o.toString(),setDay:B[l-1],setMonth:Y[r],setDate:s.toString(),setMin:parseInt(c[1])>=5?"5"!==c[0]?(parseInt(c[0])+1).toString()+"0":"00":c[0]+"0"}),f.auth().onAuthStateChanged(function(e){e?f.firestore().collection("users").doc(e.uid).onSnapshot(function(t){var n=t.data();n&&(a.setState({userID:e.uid}),a.setState({userSchoolName:n.schoolName}),f.firestore().collection("classes").onSnapshot(function(e){I.a.each(e.docs,function(e){e.data().name===a.state.userSchoolName&&a.setState({schoolCode:e.id})})}))}):a.props.history.push("/")})},a.handleChange=function(e){switch(e.target.name){case"setDate":return void a.setState({setDate:e.target.value});case"setMonth":return void a.setState({setMonth:e.target.value});case"setYear":return void a.setState({setYear:e.target.value});case"setHour":return void a.setState({setHour:e.target.value});case"setMin":return void a.setState({setMin:e.target.value});case"setRoom":return void a.setState({roomNum:e.target.value})}},a.signOut=function(){f.auth().signOut().then(function(e){console.log(e),console.log("Logged out"),a.props.history.push("/")}).catch(function(e){console.log(e)})},a.renderNow=function(){var e=new Date;console.log("day"+e.getDate()),console.log("year"+e.getFullYear()),console.log("mon"+e.getMonth()),console.log("hour"+e.getHours()),console.log("min"+e.getMinutes())},a.state={userID:"",userSchoolName:"",schoolCode:"",classInfo:{},byTime:!0,byRoom:!1,setDay:"",setMonth:"",setYear:"",setHour:"",setMin:"",setDate:"",roomNum:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{style:{width:"100%",background:"#f8f9fa"}},l.a.createElement(A.a,{bg:"light",expand:"sm",style:{width:"80%",margin:"auto"}},l.a.createElement(A.a.Brand,{href:"/studentMain"},"Empty Room Finder"),l.a.createElement(A.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(A.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(k.a,{className:"mr-auto"},l.a.createElement(T.a.Item,{style:{background:this.state.byTime?"#007bff":"#ffffff00",color:this.state.byTime?"white":"black",borderRadius:5},onSelect:function(){e.setState({byTime:!0}),e.setState({byRoom:!1})}},"By Time"),l.a.createElement(T.a.Item,{style:{borderRadius:5},onSelect:function(){e.setState({byTime:!1}),e.setState({byRoom:!0})}},"By Room")),l.a.createElement("h6",{id:"signOutBtn",style:{border:"1px solid",width:110,height:40,lineHeight:"35px",marginTop:10,cursor:"pointer",borderRadius:5,textAlign:"center"},onClick:function(){return e.signOut()}},"Sign out")))),l.a.createElement("div",{style:{width:"80%",margin:"auto",marginTop:20}},l.a.createElement(b.a,null,this.state.byTime?l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridEmail"},l.a.createElement(b.a.Label,null,"Time (Default is now)"),l.a.createElement(b.a.Group,null,l.a.createElement(b.a.Row,null,l.a.createElement(b.a.Group,{as:S.a,md:"auto",controlId:"formGridCity"},l.a.createElement(b.a.Control,{as:"select",name:"setMonth",value:this.state.setMonth,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",null,"Jan"),l.a.createElement("option",null,"Feb"),l.a.createElement("option",null,"Mar"),l.a.createElement("option",null,"Apr"),l.a.createElement("option",null,"May"),l.a.createElement("option",null,"Jun"),l.a.createElement("option",null,"Jul"),l.a.createElement("option",null,"Aug"),l.a.createElement("option",null,"Sep"),l.a.createElement("option",null,"Oct"),l.a.createElement("option",null,"Nov"),l.a.createElement("option",null,"Dec"))),l.a.createElement(b.a.Group,{as:S.a,md:"auto",controlId:"formGridState"},l.a.createElement(b.a.Control,{as:"select",name:"setDate",value:this.state.setDate,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",null,"1"),l.a.createElement("option",null,"2"),l.a.createElement("option",null,"3"),l.a.createElement("option",null,"4"),l.a.createElement("option",null,"5"),l.a.createElement("option",null,"6"),l.a.createElement("option",null,"7"),l.a.createElement("option",null,"8"),l.a.createElement("option",null,"9"),l.a.createElement("option",null,"10"),l.a.createElement("option",null,"11"),l.a.createElement("option",null,"12"),l.a.createElement("option",null,"13"),l.a.createElement("option",null,"14"),l.a.createElement("option",null,"15"),l.a.createElement("option",null,"16"),l.a.createElement("option",null,"17"),l.a.createElement("option",null,"18"),l.a.createElement("option",null,"19"),l.a.createElement("option",null,"20"),l.a.createElement("option",null,"21"),l.a.createElement("option",null,"22"),l.a.createElement("option",null,"23"),l.a.createElement("option",null,"24"),l.a.createElement("option",null,"25"),l.a.createElement("option",null,"26"),l.a.createElement("option",null,"27"),l.a.createElement("option",null,"28"),l.a.createElement("option",null,"29"),l.a.createElement("option",null,"30"),l.a.createElement("option",null,"31"))),l.a.createElement(b.a.Group,{as:S.a,md:"auto",controlId:"formGridZip"},l.a.createElement(b.a.Control,{as:"select",name:"setYear",value:this.state.setYear,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",null,"2019"),l.a.createElement("option",null,"2020")))),window.innerWidth<800?l.a.createElement(b.a.Label,null," Hour"):null,l.a.createElement(b.a.Row,null,l.a.createElement(b.a.Group,{as:S.a,md:"auto",controlId:"formGridCity"},l.a.createElement(b.a.Control,{as:"select",name:"setHour",value:this.state.setHour,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",null,"1"),l.a.createElement("option",null,"2"),l.a.createElement("option",null,"3"),l.a.createElement("option",null,"4"),l.a.createElement("option",null,"5"),l.a.createElement("option",null,"6"),l.a.createElement("option",null,"7"),l.a.createElement("option",null,"8"),l.a.createElement("option",null,"9"),l.a.createElement("option",null,"10"),l.a.createElement("option",null,"11"),l.a.createElement("option",null,"12"),l.a.createElement("option",null,"13"),l.a.createElement("option",null,"14"),l.a.createElement("option",null,"15"),l.a.createElement("option",null,"16"),l.a.createElement("option",null,"17"),l.a.createElement("option",null,"18"),l.a.createElement("option",null,"19"),l.a.createElement("option",null,"20"),l.a.createElement("option",null,"21"),l.a.createElement("option",null,"22"),l.a.createElement("option",null,"23"),l.a.createElement("option",null,"24"))),l.a.createElement(b.a.Label,{column:!0,md:"auto"},window.innerWidth<800?"Minutes":":"),l.a.createElement(b.a.Group,{as:S.a,md:"auto",controlId:"formGridState"},l.a.createElement(b.a.Control,{as:"select",name:"setMin",value:this.state.setMin,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",null,"00"),l.a.createElement("option",null,"10"),l.a.createElement("option",null,"20"),l.a.createElement("option",null,"30"),l.a.createElement("option",null,"40"),l.a.createElement("option",null,"50"),console.log(this.state.setMin))))),l.a.createElement(d.b,{to:"/SearchResult/"+this.state.userSchoolName+"/"+this.state.setMonth+"/"+this.state.setDate+"/"+this.state.setYear+"/"+this.state.setHour+"/"+this.state.setMin,style:{textDecoration:"none",color:"white"}},this.state.userSchoolName?l.a.createElement(p.a,{variant:"primary",onClick:function(){console.log(e.state.setMin)}},"Submit"):l.a.createElement(p.a,{variant:"primary",disabled:!0},"Submit"))):l.a.createElement(b.a.Group,{as:S.a,controlId:"formGridEmail"},l.a.createElement(y.a,null,l.a.createElement(b.a.Label,{style:{}},"Search a class room schedule")),l.a.createElement(b.a.Group,null,l.a.createElement(b.a.Row,null,l.a.createElement(b.a.Group,{as:S.a,md:"auto",controlId:"formGridCity"},l.a.createElement(b.a.Control,{as:"select",name:"setMonth",value:this.state.setMonth,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",null,"Jan"),l.a.createElement("option",null,"Feb"),l.a.createElement("option",null,"Mar"),l.a.createElement("option",null,"Apr"),l.a.createElement("option",null,"May"),l.a.createElement("option",null,"Jun"),l.a.createElement("option",null,"Jul"),l.a.createElement("option",null,"Aug"),l.a.createElement("option",null,"Sep"),l.a.createElement("option",null,"Oct"),l.a.createElement("option",null,"Nov"),l.a.createElement("option",null,"Dec"))),l.a.createElement(b.a.Group,{as:S.a,md:"auto",controlId:"formGridState"},l.a.createElement(b.a.Control,{as:"select",name:"setDate",value:this.state.setDate,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",null,"1"),l.a.createElement("option",null,"2"),l.a.createElement("option",null,"3"),l.a.createElement("option",null,"4"),l.a.createElement("option",null,"5"),l.a.createElement("option",null,"6"),l.a.createElement("option",null,"7"),l.a.createElement("option",null,"8"),l.a.createElement("option",null,"9"),l.a.createElement("option",null,"10"),l.a.createElement("option",null,"11"),l.a.createElement("option",null,"12"),l.a.createElement("option",null,"13"),l.a.createElement("option",null,"14"),l.a.createElement("option",null,"15"),l.a.createElement("option",null,"16"),l.a.createElement("option",null,"17"),l.a.createElement("option",null,"18"),l.a.createElement("option",null,"19"),l.a.createElement("option",null,"20"),l.a.createElement("option",null,"21"),l.a.createElement("option",null,"22"),l.a.createElement("option",null,"23"),l.a.createElement("option",null,"24"),l.a.createElement("option",null,"25"),l.a.createElement("option",null,"26"),l.a.createElement("option",null,"27"),l.a.createElement("option",null,"28"),l.a.createElement("option",null,"29"),l.a.createElement("option",null,"30"),l.a.createElement("option",null,"31"))),l.a.createElement(b.a.Group,{as:S.a,md:"auto",controlId:"formGridZip"},l.a.createElement(b.a.Control,{as:"select",name:"setYear",value:this.state.setYear,onChange:function(t){e.handleChange(t)}},l.a.createElement("option",null,"2019"),l.a.createElement("option",null,"2020"))))),window.innerWidth<800?l.a.createElement(b.a.Control,{type:"text",placeholder:"Enter Room Number",name:"setRoom",onChange:function(t){e.handleChange(t)},style:{width:"100%",float:"left",marginBottom:10}}):l.a.createElement(b.a.Control,{type:"text",placeholder:"Enter Room Number",name:"setRoom",onChange:function(t){e.handleChange(t)},style:{width:"40%",float:"left",margin:"0 10px"}}),this.state.roomNum?l.a.createElement(d.b,{to:"/SearchResult/"+this.state.userSchoolName+"/"+this.state.setMonth+"/"+this.state.setDate+"/"+this.state.setYear+"/"+this.state.roomNum,style:{textDecoration:"none",color:"white"}},l.a.createElement(p.a,{variant:"primary",onClick:function(){console.log(e.state.roomNum)}},"Submit")):l.a.createElement(p.a,{variant:"primary",disabled:!0},"Submit")))))}}]),t}(l.a.Component),F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],J=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state=void 0,a.signOut=function(){f.auth().signOut().then(function(e){console.log(e),console.log("Logged out"),a.props.history.push("/")}).catch(function(e){console.log(e)})},a.renderResult=function(){var e=[],t=a.state.selectedHour;a.state.selectedMin;return console.log(parseInt(t)+3),a.state.byRoom?0===I.a.size(a.state.classInfo)?e.push(l.a.createElement("div",{key:"noClass",style:{border:"1px solid black",width:"70%",margin:"auto",marginBottom:20,padding:10,borderRadius:10}},l.a.createElement(b.a.Label,null,"Class room does not exist or there is no class"))):I.a.each(a.state.classInfo,function(t){e.push(l.a.createElement("div",{key:t.classCode,style:{border:"1px solid black",width:"70%",margin:"auto",marginBottom:20,padding:10,borderRadius:10}},l.a.createElement(b.a.Label,null,t.room),l.a.createElement("br",null),"Class time :"+t.startHour+":"+t.startMin+" ~ "+t.endHour+":"+t.endMin+", "+t.subject+", "+t.title))}):0===I.a.size(a.state.classInfo)?e.push(l.a.createElement("div",{key:"noClass",style:{border:"1px solid black",width:"70%",margin:"auto",marginBottom:20,padding:10,borderRadius:10}},l.a.createElement(b.a.Label,null,"Every classroom is free to study"))):I.a.each(a.state.classInfo,function(a){parseInt(a.startHour)<=parseInt(t)&&parseInt(a.endHour)>=parseInt(t)?e.push(l.a.createElement("div",{key:a.classCode,style:{border:"2px solid #007bff",width:"70%",margin:"auto",marginBottom:20,padding:10,borderRadius:10}},l.a.createElement(b.a.Label,null,"Class Info"),l.a.createElement("br",null),a.room+" : "+a.subject+", "+a.title+" Ends at "+a.endHour+":"+a.endMin+" ")):parseInt(t)+3>=parseInt(a.startHour)&&parseInt(t)<=parseInt(a.startHour)&&e.push(l.a.createElement("div",{key:a.classCode,style:{border:"1px solid black",width:"70%",margin:"auto",marginBottom:20,padding:10,borderRadius:10}},l.a.createElement(b.a.Label,null,"Class Info"),l.a.createElement("br",null),a.room+" : "+a.subject+", "+a.title+" Starts at "+a.startHour+":"+a.startMin+" "))}),e},a.state={classInfo:[],searchInfo:[],userSchoolName:"",byRoom:!1,selectedHour:"",selectedMin:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[],a=this.props.history.location.pathname.split("/");console.log(a);var n=F.indexOf(a[3]);console.log(n);var l="";l=n<4?"Winter "+a[5]:n>=4&&n<=7?"Summer "+a[5]:"Fall "+a[5];var o=new Date(a[5],n,a[4]).getDay();8===a.length?(console.log(l),f.firestore().collection(a[2]).where("term","==",l).get().then(function(n){I.a.each(n.docs,function(e){var a=e.data();console.log(a),a.day===J[o]&&t.push(a)});var l=I.a.orderBy(t,["startHour"],["desc"]);e.setState({classInfo:l,selectedHour:a[6],selectedMin:a[7]})}).catch(function(e){console.log(e)})):7===a.length&&f.firestore().collection(a[2]).where("room","==",a[6].toUpperCase()).get().then(function(a){I.a.each(a.docs,function(e){var a=e.data();a.day===J[o]&&t.push(a)});var n=I.a.orderBy(t,["startHour"],["asc"]);e.setState({classInfo:n,byRoom:!0})}).catch(function(e){console.log(e)}),this.setState({searchInfo:a}),f.auth().onAuthStateChanged(function(t){t||e.props.history.push("/")})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(A.a,{bg:"light",expand:"sm",style:{width:"80%",margin:"auto"}},l.a.createElement(A.a.Brand,{href:"/studentMain"},"Empty Room Finder"),l.a.createElement(A.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(A.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(k.a,{className:"mr-auto"},l.a.createElement(T.a.Item,{href:"/studentMain"},"Return to Search")),l.a.createElement("h6",{id:"signOutBtn",style:{border:"1px solid",width:110,height:40,lineHeight:"35px",marginTop:10,cursor:"pointer",borderRadius:5,textAlign:"center"},onClick:function(){return e.signOut()}},"Sign out")))),l.a.createElement("div",{style:{width:"80%",margin:"auto",marginTop:20}},this.renderResult()))}}]),t}(l.a.Component),P=a(34),U=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(d.a,null,l.a.createElement("div",{style:{height:"100vh",overflow:"auto"}},l.a.createElement(P.a,{exact:!0,path:"/",component:C}),l.a.createElement(P.a,{path:"/managerMain",component:R}),l.a.createElement(P.a,{path:"/signup",component:L}),l.a.createElement(P.a,{path:"/studentMain",component:z}),l.a.createElement(P.a,{path:"/SearchResult",component:W})))}}]),t}(l.a.Component),Z=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(U,null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},71:function(e,t){},91:function(e,t,a){e.exports=a(144)}},[[91,1,2]]]);
//# sourceMappingURL=main.a47cbb61.chunk.js.map